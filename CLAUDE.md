# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is a Portuguese-Brazilian Docusaurus site (`defaultLocale: 'pt-BR'`) serving documentation, blog posts, and basic React components. The site uses Docusaurus v3.8.0 with React 19.

## Essential Commands

### Development
- `yarn start` or `yarn dev` - Start development server with hot reload
- `yarn build` - Production build (outputs to `build/` directory)
- `yarn serve` - Preview production build locally
- `yarn clear` - Clear Docusaurus caches

### Deployment
- `yarn deploy` - Deploy to GitHub Pages (requires SSH or GIT_USER)
- For Vercel: Use build command `yarn build` with output directory `build`

### Advanced
- `yarn swizzle <theme> <component>` - Override theme components
- `yarn write-translations` - Generate translation files
- `yarn write-heading-ids` - Add explicit heading IDs

## Architecture & Structure

### Core Directories
- **`docs/`** - Documentation pages in Markdown/MDX, sidebar configuration in `sidebars.js`
- **`blog/`** - Blog posts with `YYYY-MM-DD-title.md[x]` naming, `authors.yml`, `tags.yml` configuration
- **`src/`** - React components and custom pages
  - `components/` - Reusable React components (PascalCase naming)
  - `pages/` - Custom route pages
  - `css/` - Custom CSS including `custom.css` theme overrides
- **`static/`** - Static assets served at site root (images, favicons, etc.)

### Key Configuration Files
- **`docusaurus.config.js`** - Main site configuration with `onBrokenLinks: 'throw'` (builds fail on broken links)
- **`sidebars.js`** - Documentation sidebar structure (currently autogenerated)
- **`package.json`** - Uses Yarn, requires Node 18+

### Content Organization
- Site configured for Portuguese-Brazilian (`pt-BR`) as default locale
- Blog excludes `**/templates/**` from builds
- Documentation uses autogenerated sidebar from folder structure
- Template files are excluded from blog builds

## Development Guidelines

### File Naming Conventions
- React components: PascalCase (e.g., `HeroBanner.tsx`)
- Blog posts: `YYYY-MM-DD-my-post.mdx` with frontmatter
- Documentation: kebab-case URLs (e.g., `/getting-started/`)
- Use 2-space indentation throughout

### Content Requirements
- All blog posts need proper frontmatter (`title`, `tags`, optional `slug`)
- Code blocks should specify language for syntax highlighting
- Documentation can use MDX features and React components

### Build Validation
- Run `yarn build` to validate - builds fail on broken links
- Test locally with `yarn start` for development changes
- Use `yarn serve` to preview production build

### CodeRabbit Integration
- Repository uses CodeRabbit for automated reviews in Portuguese-Brazilian
- Configured for comprehensive analysis including documentation, unit tests, and security checks
- Pre-merge checks for documentation coverage (80% threshold)

## Deployment Notes

- **Vercel**: Framework detection as "Other", build command `yarn build`, output `build/`
- **GitHub Pages**: Use `yarn deploy` with proper SSH setup or GIT_USER environment variable
- Static site - no server-side secrets required
- Preview deployments available for PRs when using Vercel

## Special Considerations

- Site uses Docusaurus v4 compatibility flag (`future.v4: true`)
- Break on broken links is enforced - fix all link issues before deploying
- Blog RSS/Atom feeds are enabled
- Default social card and branding still use placeholder content that should be customized